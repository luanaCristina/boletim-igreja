<div _ngcontent-ng-c490876950="" class="immersive-editor markdown stronger mobile" id="extended-response-markdown-content"><div contenteditable="false" translate="no" class="ProseMirror"><h1>üìñ Sistema de Boletim da Igreja IBMC üöÄ</h1><p>Este projeto consiste em um sistema de boletim web din√¢mico para a Igreja Batista Mission√°ria em Camaragibe (IBMC), permitindo a atualiza√ß√£o f√°cil do conte√∫do semanal e sua visualiza√ß√£o online.</p><h2>
<p><h3>Para acessar o boletim: https://luanacristina.github.io/boletim-igreja/index.html</h3></p>
<p><h3>Para acessar o admin (apenas autorizados): https://luanacristina.github.io/boletim-igreja/admin</h3></p>
üåü Vis√£o Geral do Projeto</h2><p>O sistema √© composto por duas p√°ginas principais:</p><ol><li><p><strong><code>boletim_admin.html</code> (Painel de Administra√ß√£o):</strong> Uma interface web para os respons√°veis pelo boletim atualizarem o conte√∫do de cada domingo.</p></li><li><p><strong><code>boletim_web_culto.html</code> (Boletim P√∫blico):</strong> A p√°gina que os irm√£os e visitantes acessam para visualizar o boletim do culto e a agenda da semana.</p></li></ol><h3><strong>Recursos Principais:</strong></h3><ul><li><p><strong>Conte√∫do por Data:</strong> Gerencie boletins distintos para cada domingo, selecionando a data.</p></li><li><p><strong>Firebase Firestore:</strong> Banco de dados em nuvem para armazenar todas as informa√ß√µes do boletim de forma din√¢mica.</p></li><li><p><strong>Google Sign-In (Admin):</strong> Acesso seguro ao painel de administra√ß√£o apenas para usu√°rios autorizados (via conta Google).</p></li><li><p><strong>Responsivo:</strong> Ambas as p√°ginas s√£o adaptadas para visualiza√ß√£o em diferentes dispositivos (celulares, tablets, computadores).</p></li><li><p><strong>Op√ß√£o de Impress√£o:</strong> O boletim p√∫blico pode ser facilmente impresso para quem desejar uma c√≥pia f√≠sica.</p></li><li><p><strong>Controles de C√¢nticos:</strong> Ajuste de tamanho de fonte e rolagem autom√°tica para as letras dos c√¢nticos no boletim p√∫blico.</p></li></ul><h2>üõ†Ô∏è Como Configurar e Utilizar (Para o Mantenedor do Sistema)</h2><h3><strong>Pr√©-requisitos:</strong></h3><ul><li><p><strong>Projeto Firebase:</strong> Um projeto Firebase configurado (o seu √© <code>boletimigreja</code>).</p></li><li><p><strong>Node.js e npm:</strong> Para instalar o Firebase CLI (se for usar Firebase Hosting).</p></li><li><p><strong>Contas Google:</strong> As contas Google dos usu√°rios que ter√£o acesso ao painel de administra√ß√£o.</p></li></ul><h3><strong>1. Configura√ß√£o Essencial no Firebase Console</strong></h3><p>Estas s√£o as etapas <strong>mais cr√≠ticas</strong> para o funcionamento e seguran√ßa do seu boletim.</p><ul><li><p><strong>Acesse:</strong> <a href="https://console.firebase.google.com/" title="null">https://console.firebase.google.com/</a> e selecione seu projeto (<code>boletimigreja</code>).</p></li></ul><h4><strong>a) Habilitar Autentica√ß√£o Google:</strong></h4><ol><li><p>No menu lateral, v√° em <strong>Build &gt; Authentication</strong>.</p></li><li><p>Clique na aba <strong>"Sign-in method"</strong>.</p></li><li><p>Encontre o provedor <strong>"Google"</strong> e clique no √≠cone de l√°pis para editar.</p></li><li><p><strong>Habilite</strong> o Google Sign-In.</p></li><li><p>Em "Project support email", selecione <code>seu_email@gmail.com</code>.</p></li><li><p>Em <strong>"Authorized domains"</strong>, adicione os dom√≠nios onde suas p√°ginas ser√£o hospedadas (ex: <code>seuusuario.github.io</code>, <code>localhost</code>, <code>seuprojeto.web.app</code>). Clique em "Add domain" e depois "Save".</p></li></ol><h4><strong>b) Habilitar Autentica√ß√£o An√¥nima (para o Boletim P√∫blico):</strong></h4><ol><li><p>Na mesma aba <strong>"Sign-in method"</strong>, encontre o provedor <strong>"Anonymous"</strong> (An√¥nimo).</p></li><li><p><strong>Habilite</strong>-o e clique em "Save".</p></li></ol><h4><strong>c) Configurar Regras de Seguran√ßa do Firestore (CRUCIAL!):</strong></h4><p>As regras abaixo permitem que <strong>qualquer pessoa leia</strong> o boletim, mas <strong>apenas usu√°rios espec√≠ficos (administradores)</strong> possam escrever/modificar.</p><ol><li><p>No menu lateral, v√° em <strong>Build &gt; Firestore Database</strong>.</p></li><li><p>Clique na aba <strong>"Rules"</strong>.</p></li><li><p><strong>Substitua TODAS as regras existentes</strong> por este c√≥digo:</p><pre><code>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Fun√ß√£o que verifica se o usu√°rio autenticado √© um dos administradores.
    // SUBSTITUA 'SEU_UID_DO_GOOGLE_AQUI' PELO SEU UID REAL E ADICIONE OUTROS UIDs SE NECESS√ÅRIO.
    function isAdmin() {
      return request.auth.uid == 'SEU_UID_DO_GOOGLE_AQUI'; // Ex: 'abcdef1234567890abcdef1234567890'
    }

    // Permite leitura para todos, mas escrita apenas para administradores
    // na cole√ß√£o raiz 'boletimIBMC' e em todos os documentos/subcole√ß√µes dentro dela.
    match /boletimIBMC/{document=**} {
      allow read: true; // Qualquer um pode ler
      allow write: isAdmin(); // Apenas administradores podem escrever
    }
  }
}
<br class="ProseMirror-trailingBreak"></code></pre><ul><li><p><strong>IMPORTANTE:</strong> Voc√™ precisa obter o UID de cada usu√°rio que ter√° permiss√£o de escrita. Para isso, pe√ßa para cada um fazer login no <code>boletim_admin.html</code> (ap√≥s a configura√ß√£o inicial) e copiar o UID que aparecer√° no cabe√ßalho (ex: "Autenticado como: <code>[SEU_UID_AQUI]</code>"). Cole esses UIDs na fun√ß√£o <code>isAdmin()</code>, usando <code>||</code> (OR) para m√∫ltiplos UIDs.</p></li></ul></li><li><p>Clique em <strong>"Publish"</strong> (Publicar) para salvar as regras.</p></li></ol><h4><strong>d) Estrutura de Dados no Firestore:</strong></h4><p>O sistema espera que seus dados sejam organizados da seguinte forma dentro da sua cole√ß√£o raiz <code>boletimIBMC</code>:</p><pre><code>boletimIBMC (Collection)
  ‚îú‚îÄ boletins_por_data (Collection)
  ‚îÇ  ‚îú‚îÄ AAAA-MM-DD (Document)  &lt;-- ID do documento √© a data (ex: 2025-07-27)
  ‚îÇ  ‚îÇ  ‚îú‚îÄ cultoNoite (Document)
  ‚îÇ  ‚îÇ  ‚îú‚îÄ cultoManha (Document)
  ‚îÇ  ‚îÇ  ‚îú‚îÄ leituraBiblica (Document)
  ‚îÇ  ‚îÇ  ‚îú‚îÄ agendaSemana (Document)
  ‚îÇ  ‚îÇ  ‚îî‚îÄ dados_dos_canticos (Document)
  ‚îÇ  ‚îÇ     ‚îú‚îÄ canticos_congregacionais (Subcollection)
  ‚îÇ  ‚îÇ     ‚îÇ  ‚îî‚îÄ [ID_DO_CANTICO] (Document)
  ‚îÇ  ‚îÇ     ‚îú‚îÄ cantor_cristao (Subcollection)
  ‚îÇ  ‚îÇ     ‚îÇ  ‚îî‚îÄ [ID_DO_CANTICO] (Document)
  ‚îÇ  ‚îÇ     ‚îî‚îÄ musicas_louvor (Subcollection)
  ‚îÇ  ‚îÇ        ‚îî‚îÄ [ID_DA_MUSICA] (Document)
  ‚îÇ  ‚îî‚îÄ AAAA-MM-DD (Document)
  ‚îÇ     ‚îî‚îÄ ... (pr√≥ximos boletins)
  ‚îî‚îÄ (outros documentos/cole√ß√µes que voc√™ possa ter na raiz)
<br class="ProseMirror-trailingBreak"></code></pre><ul><li><p><strong>N√£o se preocupe em criar essa estrutura manualmente!</strong> O <code>boletim_admin.html</code> criar√° automaticamente os documentos <code>AAAA-MM-DD</code> (data), <code>cultoNoite</code>, <code>cultoManha</code>, <code>leituraBiblica</code>, <code>agendaSemana</code> e <code>dados_dos_canticos</code> (e suas subcole√ß√µes de c√¢nticos) quando voc√™ salvar um boletim para uma nova data.</p></li></ul><h3><strong>2. Implantando as P√°ginas (Colocando Online)</strong></h3><p>Voc√™ pode hospedar suas p√°ginas usando o <strong>Firebase Hosting</strong> (recomendado por j√° usar Firebase) ou <strong>GitHub Pages</strong>.</p><h4><strong>Op√ß√£o A: Firebase Hosting (Recomendado)</strong></h4><ol><li><p><strong>Instale o Firebase CLI:</strong> Abra seu terminal e execute <code>npm install -g firebase-tools</code>.</p></li><li><p><strong>Fa√ßa login:</strong> No terminal, execute <code>firebase login</code>.</p></li><li><p><strong>Inicialize o projeto:</strong> Navegue at√© a pasta raiz onde est√£o seus arquivos <code>boletim_admin.html</code> e <code>boletim_web_culto.html</code> e execute <code>firebase init hosting</code>.</p><ul><li><p>Siga as instru√ß√µes.</p></li><li><p>Quando perguntar "What do you want to use as your public directory?", digite <code>.</code> (ponto) se seus arquivos est√£o na raiz da pasta, ou o nome da pasta se voc√™ os moveu para uma subpasta (ex: <code>public</code>).</p></li><li><p>Quando perguntar "Configure as a single-page app (rewrite all urls to /index.html)?", digite <code>N</code> (No).</p></li></ul></li><li><p><strong>Fa√ßa o deploy:</strong> Execute <code>firebase deploy --only hosting</code>.</p></li><li><p>O terminal mostrar√° as URLs do seu site (ex: <code>https://seuprojeto.web.app</code>).</p></li></ol><h4><strong>Op√ß√£o B: GitHub Pages</strong></h4><ol><li><p><strong>Crie um reposit√≥rio p√∫blico</strong> no GitHub e fa√ßa upload de ambos os arquivos (<code>boletim_admin.html</code> e <code>boletim_web_culto.html</code>) para a branch <code>main</code>.</p></li><li><p>No reposit√≥rio, v√° em <strong>Settings &gt; Pages</strong>.</p></li><li><p>Em "Branch", selecione <code>main</code> (ou <code>master</code>) e clique em <strong>Save</strong>.</p></li><li><p>Sua URL ser√° <code>https://SEU_USUARIO.github.io/SEU_REPOSITORIO/</code>.</p></li></ol><h3><strong>3. Como Usar o Painel de Administra√ß√£o (<code>boletim_admin.html</code>)</strong></h3><ol><li><p>Acesse a URL do seu <code>boletim_admin.html</code> (ex: <code>https://seuprojeto.web.app/boletim_admin.html</code> ou <code>https://SEU_USUARIO.github.io/SEU_REPOSITORIO/boletim_admin.html</code>).</p></li><li><p>Clique em <strong>"Entrar com Google"</strong> e fa√ßa login com a conta Google cujo UID voc√™ adicionou nas regras do Firestore.</p></li><li><p>Ap√≥s o login, a mensagem de "Autenticando..." mudar√° para "Autenticado como: [Seu Nome/Email/UID]".</p></li><li><p><strong>Selecione a "Data do Domingo"</strong> desejada no campo de data.</p><ul><li><p>Se j√° houver um boletim para essa data, os campos ser√£o preenchidos.</p></li><li><p>Se n√£o houver, os campos ficar√£o vazios, prontos para um novo boletim.</p></li></ul></li><li><p>Preencha todos os campos do boletim (Culto Noite, Culto Manh√£, Leitura B√≠blica, Agenda).</p></li><li><p>Nas se√ß√µes de c√¢nticos, clique em <strong>"Adicionar C√¢ntico"</strong> para adicionar um novo formul√°rio de c√¢ntico. Preencha o T√≠tulo e a Letra.</p></li><li><p>Clique em <strong>"Salvar"</strong> para cada se√ß√£o (Culto Noite, Culto Manh√£, Leitura B√≠blica, Agenda, e individualmente para cada c√¢ntico). Voc√™ ver√° mensagens de sucesso ou erro.</p></li></ol><h3><strong>4. Como Visualizar o Boletim P√∫blico (<code>boletim_web_culto.html</code>)</strong></h3><ol><li><p>Acesse a URL do seu <code>boletim_web_culto.html</code> (ex: <code>https://seuprojeto.web.app/boletim_web_culto.html</code> ou <code>https://SEU_USUARIO.github.io/SEU_REPOSITORIO/boletim_web_culto.html</code>).</p></li><li><p>O boletim ser√° carregado automaticamente com os dados do domingo mais pr√≥ximo.</p></li><li><p>Use os bot√µes "A+ Fonte", "A- Fonte" e "Rolagem Autom√°tica" para ajustar a visualiza√ß√£o dos c√¢nticos.</p></li><li><p>Clique em "Imprimir Boletim" para gerar uma vers√£o para impress√£o.</p></li></ol><p>Este README detalhado deve ajudar qualquer pessoa a entender e utilizar o seu sistema de boletim. Lembre-se de preencher os placeholders <code>[Seu Nome Completo]</code>, <code>[Nome do Evento ou Organiza√ß√£o]</code> e <code>[SEU_UID_DO_GOOGLE_AQUI]</code> com suas informa√ß√µes reais.</p></div></div>
